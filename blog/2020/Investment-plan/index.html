<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Ahmad  (Ady) Zareei | Investing plan</title>
<meta name="description" content="Personal homepage of Ahmad Zareei.
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous">

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700%7CRoboto+Slab:100,300,400,500,700%7CMaterial+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css">

<!-- Styles -->
<link rel="shortcut icon" href="/assets/img/logo.ico">
<link rel="stylesheet" href="/assets/css/main.css">

<link rel="canonical" href="/blog/2020/Investment-plan/">

<!-- Theming-->

<script src="/assets/js/theme.js"></script>



  
<!-- MathJax -->
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.1.2/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  <meta name="google-site-verification" content="SwVgS1KjZmScXzgcGAsFKN5eksnUe79r12brKRMZLko">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TWETJLDW9Z"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-TWETJLDW9Z');
  </script>
</head>

<body class="fixed-top-nav ">

  <!-- Header -->

  <header>

  <!-- Nav Bar -->
  <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="https://azareei.github.io/">
        <span class="font-weight-bold">Ahmad</span>  (Ady) Zareei
      </a>
      
      <!-- Navbar Toogle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              about
              
            </a>
          </li>
          <!-- Other pages  | sort: "title" -->
          
          
          
          
          
          
          
          <li class="nav-item ">
            <a class="nav-link" href="/publications/">
              publications
              
            </a>
          </li>
          
          
          
          <li class="nav-item ">
            <a class="nav-link" href="/projects/">
              research
              
            </a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          <!-- Blog -->
          <li class="nav-item active">
            <a class="nav-link" href="/blog/">
              blog
              
            </a>
          </li>
          
          
          <div class="toggle-container">
            <a id="light-toggle">
              <i class="fas fa-moon"></i>
              <i class="fas fa-sun"></i>
            </a>
          </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>

  <!-- Content -->

  <div class="container mt-5">
    

<div class="post">

  <header class="post-header">
    <h1 class="post-title">Investing plan</h1>
    <p class="post-meta">September 19, 2020</p>
  </header>

  <article class="post-content">
    <p>Today, I was thinking about investing. I was thinking that if I put  \(X_0\) amount of money in investing for some \(T\) years with a return of \(r\). What should I do with the interest that I receive? Should I consume this or re-invest this into my account again? The logical assumption could be that  I would like to maximize my consumption from this investment. So imagine the following question:</p>

<p>Imagine you are an investor and you are investing \(X_0\) amount of money at \(t=0\). This invested money is there and the investor cannot withdraw the money; Now, this invested money pays \(r\%\) interest for total of \(T\) years. Each year, you as the investor can consume \(a(t)\) portion of this interest and re-invests the rest \(1-a(t)\). What portion of this interest-payment money should you consume each year, so that the total amount of consumption is maximized?</p>

<p>Let’s solve this. First I assume that the time is continuous (that’s how I roll!). So, Mathematically speaking, our money follows the following ODE</p>

\[\frac{dX}{dt} = r X(t) (1-a(t))\]

<p>where \(r\) is the continuous interest rate. At the same time, the amount of money consumed is the following</p>

\[C = \int_0^T r X(t) a(t) dt\]

<p>So our question, in mathematical terms is to find the best consumption plan \(a^*(t)\) such that our consumption is maximized, in other words</p>

\[a^*(t) = \text{arg} \max_{a(t)} \int_0^T r X(t) a(t) dt \label{eq:1}\\ 
\text{such that  } \frac{dX}{dt} = r X(t) (1-a(t))\]

<p>Note that \(0 \leq a(t) \leq 1\). The dynamics equation (second equation) has an easy answer</p>

\[X(t) = X_0 \exp\left( {rt - r\int_0^t a(t) dt}\right)\]

<p>Now inserting this result into the first equation, we find the consumption as</p>

\[a^*(t) = \text{arg} \max_{a(t)} r\int_0^T r X(t) a(t) dt  = \text{arg} \max_{a(t)} \int_0^T r ~ X_0 ~ a(t)  \exp\left( {rt - r\int_0^t a(t) dt}\right)  dt\]

<p>and our goal is to find a function \(a(t)\) that maximizes the above integral, which is our consumption. This ridiculously looks like Euler-Lagrange equation. Let’s define \(b'(t) \equiv a(t)\) or equivalently \(b(t) = \int_0^t a(t') dt'\). Then our optimization problem becomes</p>

\[b^*(t)   = \text{arg} \max_{b(t)} \int_0^T r ~ X_0 ~b'(t)  \exp\left( {rt - rb(t)} \right)  dt\]

<p>Now it’s actually the same as Euler-Lagrange equation, where the Lagrangian is \(L(t,b(t),b'(t)) = r ~ X_0  ~b'(t)  \exp\left( {rt - rb(t)}\right)\). So we use the Euler–Lagrange equation</p>

\[\frac{\partial L}{\partial b(t) } = \frac{d}{dt} \frac{\partial L}{\partial b'(t)} \\
-r b'(t) = r-rb'(t)\]

<p>Alright, so it seems that there is no solution here. This actually means that the extremums happen at the boundaries. Since \(0 \leq a(t) \leq 1\), then it means that it happens when \(a = 0, \text{ or } 1\). Physically speaking, it means that when we are either completely re-investing or completely consuming the interest payments. Alright, saving all the time is not the maximum, because it results in no consumption or \(C=0\). Spending all the interest we earn or \(a(t) = 1\) can be a solution. This basically means that our money is not growing in the fund, and it remains constant at \(X_0\), and we are always consuming the interest payments. This can also be seen in the equations, since</p>

\[C = \int_0^T r ~ X_0    dt = r X_0 T\]

<p>Now we need to be careful. There are other boundary solutions that we can construct as well. Imagine the following plan: assume we  re-invest the interests we earn for \(0 \leq t \leq T_c\) and then start spending all the interest at \(t\geq T_c\). This plan is again some boundary solution and could be an extremum. We need to calculate the consumption. So the plan is the following</p>

\[a(t) = \begin{cases}
0 &amp; 0 \leq t \leq T_c\\
1 &amp; T_c \leq t \leq T
\end{cases}\]

<p>Let’s see how much consumption we can get from this plan.</p>

\[C = \int_{T_c}^T r ~ X_0 ~  \exp\left( rt - r(t-T_c) \right)  dt   = \int_{T_c}^T r ~ X_0 ~  \exp\left( r T_c \right)  dt   = r X_0 (T-T_c) \exp \left( r T_c \right)\]

<p>In order to find the maximum of the above consumption, we take the derivative with respect to \(T_c\) to find</p>

\[-1 + (T-T_c) r = 0 \quad \to \quad  T_c = T - \frac{1}{r}\]

<p>Not that in order for \(T_c \geq 0\), then \(rT \geq 1\). For such \(T_c\), we find</p>

\[C = X_0 \exp\left( rT - 1\right)\]

<p>Let’s plot the different solutions consumption</p>

<div class="row mt-3" style="text-align:center;">
    <div class="col-sm mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" width="500" src="/assets/posts/investing_rate.jpg">
    </div>
</div>
<div class="caption">
     Overall consumption divided by the initial investment  C/X_0  versus interest rate times the total time of investment rT. The blue curve is for re-investing the interests upto t=T_c and then consuming the interests afterward; the black curve corresponds to consume the interests from the beginning.
</div>

<p>So basically, upto \(rT=1\), it makes sense to consume all the interest payments, and for \(rT\geq1\) it’s better to wait until \(T_c = T-\frac{1}{r}\) and then consume all the interest payments. To give it a more physical sense, assume you have a fund with \(10\%\) APR, this means that \(\exp(r)-1 = 0.1\) or \(r=  \log(1.1) \approx 0.04\). Now, if your goal is to invest for less than 25 years \((25\times 0.04 =1 )\), you better use all the interest payments you’re paid to maximize your consumption. If you are investing for more than 25 years, its better to re-invest all the interests for the first 25 years, and after that consume all the interest payments.</p>


  </article>

  

</div>

  </div>

  <!-- Footer -->

  
<footer class="fixed-bottom">
  <div class="container mt-0" style="text-align:center;">
    © Copyright 2023 Ahmad  (Ady) Zareei.
    <!--  -->     
    
    Last updated: March 30, 2023.
    
  </div>
</footer>



</body>

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

<!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>


<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>





<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

<!-- Load DarkMode JS -->
<script src="/assets/js/dark_mode.js"></script>


</html><html>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-77789841-1', 'auto');
  ga('send', 'pageview');

</script>
</html>
