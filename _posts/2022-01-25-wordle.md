---
layout: post
title: Optimum first guess for Persian Wordle (in Farsi)
date: 2022-01-25 22:30:00
description: Molavi
---

<a href="vajoor.ir">Vaajoor</a> is the persian version of [wordle](https://www.powerlanguage.co.uk/wordle/). In this post I explore the optimum first guess for [Vaajoor](vajoor.ir) in persian.

<br>

<p style="text-align:right;dir:rtl;">
در بازی واجور هدف حدس زدن یک کلمه پنج حرفیه. در این بازی امکان پنج‌بار حدس زدن وجود داره. برای هر کلمه‌ای که حدس میزنیم، برای هر حرف سه حالت وجود داره: اگر حرف در کلمه اصلی وجود نداشته باشه، حرف قرمز میشه. اگر حرف در کلمه اصلی وجود داشته باشد، اما مکانش درست نباشه، زرد میشه. و اگر حرف هم در کلمه اصلی باشه و هم مکانش درست باشه، سبز میشه. خیلی شبیه به بازی فکر‌بکر هست اگه توی بچگی بازی کرده باشین. حال با حدس کلمه و اینکه هر حرف‌ آن در چه حالتی است، کلمه اصلی حدس زده میشه 
</p>

<br>
<br>

<p style="text-align:right;dir:rtl;">
نمونه‌ای از بازی
</p>

<div class="row mt-3" style="text-align:center;">
    <div class="col-sm mt-3 mt-md-0">
        <img class="img-fluid rounded z-depth-1" width="300" src="{{ site.baseurl }}/assets/posts/vajoor_sample.png">
    </div>
</div>

<br>
<br>

<p style="text-align:right;dir:rtl;">

سوالی که پیش میآید این هست که آیا حدس اول بهینه‌ای وجود داره؟

<br>

با نگاهی به لغات ۵ حرفی فرهنگ معین میبینیم که تعداد لغات پنج‌حرفی ۸۲۱۶ کلمه هست. حدس اول میتونه از کل این لیست باشه. با توجه به حدس اول، و اینکه چه حرف‌هایی در آن هست و نیست لیست کلمات قابل قبول برای حدس دوم کمتر میشه. سوال این هست که آیا حدس اولیه بهینه‌ای وجود داره؟
<br>

هر حدسی که ما میزنیم، بقیه کلمات رو به ۳*۳*۳*۳*۳ دسته تقسیم میکنه، با توجه به اینکه هر حرف این حدس ما در کدوم گروه سبز یا زرد یا قرمز میافته. پس هر کلمه‌ای، بقیه کلمات رو بین این ۳*۳*۳*۳*۳ = ۲۴۳ گروه تقسیم میکنه. حالا با توجه به اینکه کدوم گروه انتخاب شده، ادامه مسیر از بین کلمات اون گروه خواهد بود. حالا اگه حدس اولیه‌ای بهینه باشه، باید کلمات رو جوری بین این گروه‌ها تقسیم کنه، که لیست تعداد کلمات بعدی کمترین باشه! اگه اینجوری باشه، این کلمه انتخاب خوبی بوده
<br>

برای اینکه کلمه بهینه برای انتخاب اول رو پیدا کنیم، روی لیست تمام کلمات میگردیم، برای هر کلمه نگاه میکنیم که بقیه کلمات چه‌طور بین این ۲۴۳ گروه تقسیم میشن. برای هر گروه تعدادی ثبت میشه. ماکزیمم تعداد کلمات در یه گروه از این ۲۴۳ گروه رو برای اون کلمه ثبت میکنیم. در نهایت کلمه‌ای رو انتخاب میکنیم که این عدد ماکزیممش کمترین باشه. یعنی مینیمم این ماکزیمم رو پیدا میکنیم. در این صورت، در بدترین حالت حدسمون، تعداد کلمات برای انتخاب دوم کمترین شده
<br>

حالا همین کار رو من برای کلمات فارسی فرهنگ معین انجام دادم (کد شخمی نوشته شده پایین همین صفحه هست). به نظر میاد که حدس بهینه اول کلمه تریان هست. منم نمیدونستم تریان یعنی چه ! انگار به معنی چیزی هست که طبقی شکل هست و بافته شده از شاخ بید! والا منم نفهمیدم یعنی چی. حالا اگه کلمه تریان رو به عنوان انتخاب اول بزاریم، ماکزیمم تعداد کلمات در اون ۲۴۳ گروه فقط ۵۴۲ کلمه هست. یعنی در بد‌ترین حالت برای حدس دوم باید فقط از بین این ۵۴۲ کلمه انتخاب کنیم. حالا همین داستان رو برای حدس دوم هم میشه انجام داد، البته وقتی حدس اول در اومده باشه

<br>

حالا چون تریان خیلی واژه سختی شد، کلمه دوم هم نگاه کردم دیدم خیلی ساده‌تره: تیمار. هم کلمه راحت‌تری هست و هم آدم یادش بمونه. اگه کلمه تیمار رو برای حدس اول انتخاب کنین، برای حدس دوم در بدترین حالت فقط باید بین ۵۶۰ کلمه، اون کلمه مورد نظر رو پیدا کنین. در ادامه هم لینک گیت‌هاب این کد سر‌سری پایتون و لیست کلمات فرهنگ معین رو میزارم خواستین خودتون باش ور برین

</p>
<br>
<br>

[Github Link](https://github.com/ahmadzareei/vajoor)

<br>
<br>

{% highlight python linenos %}
import numpy as np

with open('Moin_dictionary_words.txt') as f:
lines = f.readlines()

lines = [x[:-1] for x in lines]

words = [x for x in lines if len(x)==5]

from collections import defaultdict
score = [0]\*len(words)
for j,w in enumerate(words):
category = defaultdict(int)
for w_inquiry in words:
key = ''
for i,ch in enumerate(w):
if ch not in w_inquiry:
key += 'K' # it's black
else:
if ch == w_inquiry[i]:
key += 'G' # it should be green
else:
key += 'Y' # then it's yellow
category[key] += 1
score[j] = max(category.values())

for idx in np.array(score).argsort()[:20]:
print(score[idx],words[idx])
{% endhighlight %}

<p style="text-align:right;dir:rtl;">
542 تریان
<br>
560 تیمار
<br>
611 رمانی
<br>
631 نوایر
<br>
631 روانی
<br>
643 ربانی
<br>
643 برانی
<br>
644 منابر
<br>
656 نرمال
<br>
661 بهیار
<br>
661 بیراه
<br>
663 ویران
<br>
663 رویان
<br>
680 تریاک
<br>
681 مهوار
<br>
681 میراب
<br>
681 هموار
<br>
681 بیمار
<br>
686 نهاری
<br>
686 مناره
</p>
